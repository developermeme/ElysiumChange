{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport { handleErrorResponse, LoggedInUser } from \"../../common/Script\";\nimport { addNewAdrdressService, deleteAddressService, getAddressListService, updateNewAddressService } from \"./Service\";\nimport { deleteAddress, getAddressList } from \"./Slice\";\nexport const getUserAddressList = item => {\n  return async (dispatch, getState) => {\n    getAddressListService(item).then(res => {\n      dispatch(getAddressList(res));\n    }).catch(error => {\n      console.log(\"Error\", error);\n      handleErrorResponse(error);\n    });\n  };\n};\nexport const addUserAddress = item => {\n  return async (dispatch, getState) => {\n    try {\n      const response = await addNewAdrdressService(item);\n\n      if (response) {\n        localStorage.setItem(\"selected-address-id\", response.data.id); // toast.success(\"Successfully Added\");\n        // window.location.reload();\n      }\n    } catch (error) {\n      console.log(\"Error\", error);\n      toast.error(\"Something Went Wrong\");\n      handleErrorResponse(error);\n    }\n  };\n};\nexport const updateUserAddress = item => {\n  return async (dispatch, getState) => {\n    try {\n      const response = await updateNewAddressService(item);\n\n      if (response === 200) {\n        toast.success(\"Successfully Updated\");\n        window.location.reload();\n      }\n    } catch (error) {\n      console.log(\"Error\", error);\n      toast.error(\"Something Went Wrong\");\n      handleErrorResponse(error);\n    }\n  };\n};\nexport const deleteUserAddress = item => {\n  return async (dispatch, getState) => {\n    try {\n      const response = await deleteAddressService(item);\n\n      if (response === 200) {\n        dispatch(getUserAddressList({\n          phone: LoggedInUser\n        }));\n        toast.success(\"Successfully Deleted\");\n      }\n    } catch (error) {\n      dispatch(deleteAddress(false));\n      toast.error(\"Something Went Wrong\");\n      handleErrorResponse(error);\n    }\n  };\n};","map":{"version":3,"names":["toast","handleErrorResponse","LoggedInUser","addNewAdrdressService","deleteAddressService","getAddressListService","updateNewAddressService","deleteAddress","getAddressList","getUserAddressList","item","dispatch","getState","then","res","catch","error","console","log","addUserAddress","response","localStorage","setItem","data","id","updateUserAddress","success","window","location","reload","deleteUserAddress","phone"],"sources":["C:/Users/arunm/MeMeglobalsites/Elysium/New folder/ElysiumChange/src/components/stateContainers/Address/ThunkAction.ts"],"sourcesContent":["import { toast } from \"react-toastify\";\r\nimport { handleErrorResponse, LoggedInUser } from \"../../common/Script\";\r\nimport {\r\n  addNewAdrdressService,\r\n  deleteAddressService,\r\n  getAddressListService,\r\n  IAddAddress,\r\n  IDeleteAddress,\r\n  IGetAddress,\r\n  updateNewAddressService,\r\n} from \"./Service\";\r\nimport { deleteAddress, getAddressList } from \"./Slice\";\r\n\r\nexport const getUserAddressList = (item: IGetAddress) => {\r\n  return async (dispatch: any, getState: any) => {\r\n    getAddressListService(item)\r\n      .then((res) => {\r\n        dispatch(getAddressList(res));\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error\", error);\r\n        handleErrorResponse(error);\r\n      });\r\n  };\r\n};\r\n\r\nexport const addUserAddress = (item: any) => {\r\n  return async (dispatch: any, getState: any) => {\r\n    try {\r\n      const response: any = await addNewAdrdressService(item);\r\n      if (response) {\r\n        localStorage.setItem(\"selected-address-id\", response.data.id);\r\n\r\n        // toast.success(\"Successfully Added\");\r\n        // window.location.reload();\r\n      }\r\n    } catch (error) {\r\n      console.log(\"Error\", error);\r\n      toast.error(\"Something Went Wrong\");\r\n      handleErrorResponse(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateUserAddress = (item: IAddAddress) => {\r\n  return async (dispatch: any, getState: any) => {\r\n    try {\r\n      const response: any = await updateNewAddressService(item);\r\n      if (response === 200) {\r\n        toast.success(\"Successfully Updated\");\r\n        window.location.reload();\r\n      }\r\n    } catch (error) {\r\n      console.log(\"Error\", error);\r\n      toast.error(\"Something Went Wrong\");\r\n      handleErrorResponse(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteUserAddress = (item: IDeleteAddress) => {\r\n  return async (dispatch: any, getState: any) => {\r\n    try {\r\n      const response: any = await deleteAddressService(item);\r\n      if (response === 200) {\r\n        dispatch(getUserAddressList({ phone: LoggedInUser as string }));\r\n        toast.success(\"Successfully Deleted\");\r\n      }\r\n    } catch (error) {\r\n      dispatch(deleteAddress(false));\r\n      toast.error(\"Something Went Wrong\");\r\n       handleErrorResponse(error);\r\n    }\r\n  };\r\n};\r\n"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,SAASC,mBAAT,EAA8BC,YAA9B,QAAkD,qBAAlD;AACA,SACEC,qBADF,EAEEC,oBAFF,EAGEC,qBAHF,EAOEC,uBAPF,QAQO,WARP;AASA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,SAA9C;AAEA,OAAO,MAAMC,kBAAkB,GAAIC,IAAD,IAAuB;EACvD,OAAO,OAAOC,QAAP,EAAsBC,QAAtB,KAAwC;IAC7CP,qBAAqB,CAACK,IAAD,CAArB,CACGG,IADH,CACSC,GAAD,IAAS;MACbH,QAAQ,CAACH,cAAc,CAACM,GAAD,CAAf,CAAR;IACD,CAHH,EAIGC,KAJH,CAIUC,KAAD,IAAW;MAChBC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;MACAf,mBAAmB,CAACe,KAAD,CAAnB;IACD,CAPH;EAQD,CATD;AAUD,CAXM;AAaP,OAAO,MAAMG,cAAc,GAAIT,IAAD,IAAe;EAC3C,OAAO,OAAOC,QAAP,EAAsBC,QAAtB,KAAwC;IAC7C,IAAI;MACF,MAAMQ,QAAa,GAAG,MAAMjB,qBAAqB,CAACO,IAAD,CAAjD;;MACA,IAAIU,QAAJ,EAAc;QACZC,YAAY,CAACC,OAAb,CAAqB,qBAArB,EAA4CF,QAAQ,CAACG,IAAT,CAAcC,EAA1D,EADY,CAGZ;QACA;MACD;IACF,CARD,CAQE,OAAOR,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;MACAhB,KAAK,CAACgB,KAAN,CAAY,sBAAZ;MACAf,mBAAmB,CAACe,KAAD,CAAnB;IACD;EACF,CAdD;AAeD,CAhBM;AAkBP,OAAO,MAAMS,iBAAiB,GAAIf,IAAD,IAAuB;EACtD,OAAO,OAAOC,QAAP,EAAsBC,QAAtB,KAAwC;IAC7C,IAAI;MACF,MAAMQ,QAAa,GAAG,MAAMd,uBAAuB,CAACI,IAAD,CAAnD;;MACA,IAAIU,QAAQ,KAAK,GAAjB,EAAsB;QACpBpB,KAAK,CAAC0B,OAAN,CAAc,sBAAd;QACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB;MACD;IACF,CAND,CAME,OAAOb,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;MACAhB,KAAK,CAACgB,KAAN,CAAY,sBAAZ;MACAf,mBAAmB,CAACe,KAAD,CAAnB;IACD;EACF,CAZD;AAaD,CAdM;AAgBP,OAAO,MAAMc,iBAAiB,GAAIpB,IAAD,IAA0B;EACzD,OAAO,OAAOC,QAAP,EAAsBC,QAAtB,KAAwC;IAC7C,IAAI;MACF,MAAMQ,QAAa,GAAG,MAAMhB,oBAAoB,CAACM,IAAD,CAAhD;;MACA,IAAIU,QAAQ,KAAK,GAAjB,EAAsB;QACpBT,QAAQ,CAACF,kBAAkB,CAAC;UAAEsB,KAAK,EAAE7B;QAAT,CAAD,CAAnB,CAAR;QACAF,KAAK,CAAC0B,OAAN,CAAc,sBAAd;MACD;IACF,CAND,CAME,OAAOV,KAAP,EAAc;MACdL,QAAQ,CAACJ,aAAa,CAAC,KAAD,CAAd,CAAR;MACAP,KAAK,CAACgB,KAAN,CAAY,sBAAZ;MACCf,mBAAmB,CAACe,KAAD,CAAnB;IACF;EACF,CAZD;AAaD,CAdM"},"metadata":{},"sourceType":"module"}