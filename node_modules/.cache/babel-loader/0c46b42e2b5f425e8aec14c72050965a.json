{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arunm\\\\MeMeglobalsites\\\\Elysium\\\\New folder\\\\ElysiumChange\\\\src\\\\components\\\\containers\\\\PaymentContainer\\\\cashfree\\\\cashfree.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-undef */\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { cashfreeProd } from \"cashfree-dropjs\";\nimport { dropinComponents } from \"./dropinComponents\";\nimport { generateRandomId } from \"../../../common/Script\";\nimport { paymentService } from \"../../../../utils/API\";\nimport \"./cashfree.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst style = {\n  backgroundColor: \"#ffffff\",\n  color: \"#c70c0c\",\n  fontFamily: \"Lato\",\n  fontSize: \"14px\",\n  errorColor: \"#ff0000\",\n  theme: \"light\"\n};\nconst components = dropinComponents.map(x => x.id);\n\nfunction CashFreePayment(props) {\n  _s();\n\n  const {\n    email,\n    amount,\n    onSuccess,\n    name,\n    phoneNo\n  } = props.PaymentProps;\n  const navigate = useNavigate(); // Payment Success Call\n\n  const onPaymentSuccess = data => {\n    if (data.order && data.order.status === \"PAID\") {\n      onSuccess(data.transaction.transactionId);\n      navigate(\"/orderconfirm\");\n    }\n  }; // Payment Failure Call\n\n\n  const onPaymentFailure = data => {\n    console.log(\"error\", data); // alert(data.order.errorText);\n  }; //Cashfree Component Render Call\n\n\n  const renderDropin = orderToken => {\n    if (orderToken === \"\") {\n      alert(\"Order Token is empty\");\n      return;\n    }\n\n    let parent = document.getElementById(\"drop_in_container\");\n    parent.innerHTML = \"\";\n    let cashfree;\n    cashfree = new cashfreeProd.Cashfree(); // cashfree = new cashfreeSandbox.Cashfree();\n\n    cashfree.initialiseDropin(parent, {\n      orderToken,\n      onSuccess: onPaymentSuccess,\n      onFailure: onPaymentFailure,\n      components,\n      style\n    });\n  }; //Cashfree Token Generation Call\n\n\n  const getToken = async () => {\n    try {\n      const respose = await paymentService.cashFree({\n        \"customer_details.customer_id\": name,\n        \"customer_details.customer_email\": email,\n        \"customer_details.customer_phone\": phoneNo,\n        order_id: `${generateRandomId(6)}`,\n        order_currency: \"INR\",\n        order_amount: +amount\n      });\n      const orderToken = await respose.data.order_token;\n\n      if (orderToken) {\n        renderDropin(orderToken);\n      }\n    } catch (error) {\n      alert(\"orderTokenerror\", error);\n    }\n  };\n\n  useEffect(() => {\n    getToken(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cashfree-form\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropin-parent\",\n      id: \"drop_in_container\",\n      style: {\n        minHeight: \"300px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CashFreePayment, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CashFreePayment;\nexport default CashFreePayment;\n\nvar _c;\n\n$RefreshReg$(_c, \"CashFreePayment\");","map":{"version":3,"names":["useEffect","useNavigate","cashfreeProd","dropinComponents","generateRandomId","paymentService","style","backgroundColor","color","fontFamily","fontSize","errorColor","theme","components","map","x","id","CashFreePayment","props","email","amount","onSuccess","name","phoneNo","PaymentProps","navigate","onPaymentSuccess","data","order","status","transaction","transactionId","onPaymentFailure","console","log","renderDropin","orderToken","alert","parent","document","getElementById","innerHTML","cashfree","Cashfree","initialiseDropin","onFailure","getToken","respose","cashFree","order_id","order_currency","order_amount","order_token","error","minHeight"],"sources":["C:/Users/arunm/MeMeglobalsites/Elysium/New folder/ElysiumChange/src/components/containers/PaymentContainer/cashfree/cashfree.js"],"sourcesContent":["/* eslint-disable no-undef */\r\nimport { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { cashfreeProd } from \"cashfree-dropjs\";\r\nimport { dropinComponents } from \"./dropinComponents\";\r\nimport { generateRandomId } from \"../../../common/Script\";\r\nimport { paymentService } from \"../../../../utils/API\";\r\nimport \"./cashfree.scss\";\r\n\r\nconst style = {\r\n  backgroundColor: \"#ffffff\",\r\n  color: \"#c70c0c\",\r\n  fontFamily: \"Lato\",\r\n  fontSize: \"14px\",\r\n  errorColor: \"#ff0000\",\r\n  theme: \"light\",\r\n};\r\nconst components = dropinComponents.map((x) => x.id);\r\n\r\nfunction CashFreePayment(props) {\r\n  const { email, amount, onSuccess, name, phoneNo } = props.PaymentProps;\r\n  const navigate = useNavigate();\r\n\r\n  // Payment Success Call\r\n  const onPaymentSuccess = (data) => {\r\n    if (data.order && data.order.status === \"PAID\") {\r\n      onSuccess(data.transaction.transactionId);\r\n      navigate(\"/orderconfirm\");\r\n    }\r\n  };\r\n\r\n  // Payment Failure Call\r\n  const onPaymentFailure = (data) => {\r\n    console.log(\"error\", data);\r\n    // alert(data.order.errorText);\r\n  };\r\n\r\n  //Cashfree Component Render Call\r\n  const renderDropin = (orderToken) => {\r\n    if (orderToken === \"\") {\r\n      alert(\"Order Token is empty\");\r\n      return;\r\n    }\r\n\r\n    let parent = document.getElementById(\"drop_in_container\");\r\n    parent.innerHTML = \"\";\r\n    let cashfree;\r\n\r\n    cashfree = new cashfreeProd.Cashfree();\r\n    // cashfree = new cashfreeSandbox.Cashfree();\r\n\r\n    cashfree.initialiseDropin(parent, {\r\n      orderToken,\r\n      onSuccess: onPaymentSuccess,\r\n      onFailure: onPaymentFailure,\r\n      components,\r\n      style,\r\n    });\r\n  };\r\n\r\n  //Cashfree Token Generation Call\r\n  const getToken = async () => {\r\n    try {\r\n      const respose = await paymentService.cashFree({\r\n        \"customer_details.customer_id\": name,\r\n        \"customer_details.customer_email\": email,\r\n        \"customer_details.customer_phone\": phoneNo,\r\n        order_id: `${generateRandomId(6)}`,\r\n        order_currency: \"INR\",\r\n        order_amount: +amount,\r\n      });\r\n\r\n      const orderToken = await respose.data.order_token;\r\n\r\n      if (orderToken) {\r\n        renderDropin(orderToken);\r\n      }\r\n    } catch (error) {\r\n      alert(\"orderTokenerror\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken();\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"cashfree-form\">\r\n      <div\r\n        className=\"dropin-parent\"\r\n        id=\"drop_in_container\"\r\n        style={{ minHeight: \"300px\" }}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CashFreePayment;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}