{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arunm\\\\MeMeglobalsites\\\\Elysium\\\\New folder\\\\ElysiumChange\\\\src\\\\components\\\\containers\\\\SearchContainer\\\\SearchContainer.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SearchList from \"./SearchList/SearchList\";\nimport { useQuery } from \"../../../hook/useQuery\";\nimport Spinner from \"../../common/Spinner/Spinner\";\nimport NoResultFound from \"./NoResultsFound/NoResultFound\";\nimport useSearch from \"../../header/SearchBox/useSearch.hook\";\nimport useProductList from \"../ProductList/useProductList.hook\";\nimport { getSearchList } from \"../../stateContainers/NavState/Slice\";\nimport { genericSearch } from \"../../common/ArrayFunctions\";\nimport { fetchSearchProducts } from \"../../stateContainers/NavState/ThunkActions\";\nimport \"./SearchContainer.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SearchContainer = () => {\n  _s();\n\n  const {\n    searchList\n  } = useSearch();\n  const {\n    spinnerData\n  } = useSelector(state => state);\n  const isLoading = spinnerData && spinnerData.isLoading;\n  let query = useQuery();\n  const searchText = query.get(\"searchText\") || \"\";\n  const {\n    homeProducts\n  } = useProductList();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let filteredList = [];\n\n    if (homeProducts.length) {\n      const searchTerm = searchText;\n      filteredList = homeProducts === null || homeProducts === void 0 ? void 0 : homeProducts.filter(product => genericSearch(product, [\"maincategory\", \"subcategory\"], searchTerm));\n      dispatch(getSearchList(filteredList));\n    } else {\n      dispatch(fetchSearchProducts(searchText));\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [searchText, homeProducts]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : searchList.length > 0 ? /*#__PURE__*/_jsxDEV(SearchList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(NoResultFound, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchContainer, \"7PKrwRMMcuG4J8MCuofDv0aF8Rw=\", false, function () {\n  return [useSearch, useSelector, useQuery, useProductList, useDispatch];\n});\n\n_c = SearchContainer;\nexport default SearchContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchContainer\");","map":{"version":3,"names":["useEffect","useDispatch","useSelector","SearchList","useQuery","Spinner","NoResultFound","useSearch","useProductList","getSearchList","genericSearch","fetchSearchProducts","SearchContainer","searchList","spinnerData","state","isLoading","query","searchText","get","homeProducts","dispatch","filteredList","length","searchTerm","filter","product"],"sources":["C:/Users/arunm/MeMeglobalsites/Elysium/New folder/ElysiumChange/src/components/containers/SearchContainer/SearchContainer.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport SearchList from \"./SearchList/SearchList\";\r\nimport { useQuery } from \"../../../hook/useQuery\";\r\nimport Spinner from \"../../common/Spinner/Spinner\";\r\nimport { IProduct } from \"../../../model/IProductType\";\r\nimport NoResultFound from \"./NoResultsFound/NoResultFound\";\r\nimport useSearch from \"../../header/SearchBox/useSearch.hook\";\r\nimport useProductList from \"../ProductList/useProductList.hook\";\r\nimport { IRootState } from \"../../../redux/reducer/CombineReducer\";\r\nimport { getSearchList } from \"../../stateContainers/NavState/Slice\";\r\nimport { genericSearch } from \"../../common/ArrayFunctions\";\r\nimport { fetchSearchProducts } from \"../../stateContainers/NavState/ThunkActions\";\r\nimport \"./SearchContainer.scss\";\r\n\r\nexport const SearchContainer = () => {\r\n  const { searchList } = useSearch();\r\n  const { spinnerData } = useSelector((state: IRootState) => state);\r\n  const isLoading = spinnerData && spinnerData.isLoading;\r\n\r\n  let query = useQuery();\r\n  const searchText = query.get(\"searchText\") || \"\";\r\n\r\n  const { homeProducts } = useProductList();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    let filteredList: IProduct[] = [];\r\n\r\n    if (homeProducts.length) {\r\n      const searchTerm = searchText;\r\n      filteredList = homeProducts?.filter((product: IProduct) =>\r\n        genericSearch(product, [\"maincategory\", \"subcategory\"], searchTerm)\r\n      );\r\n      dispatch(getSearchList(filteredList));\r\n    } else {\r\n      dispatch(fetchSearchProducts(searchText));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchText, homeProducts]);\r\n\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        <Spinner />\r\n      ) : searchList.length > 0 ? (\r\n        <SearchList />\r\n      ) : (\r\n        <NoResultFound />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchContainer;\r\n"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AAEA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,SAAP,MAAsB,uCAAtB;AACA,OAAOC,cAAP,MAA2B,oCAA3B;AAEA,SAASC,aAAT,QAA8B,sCAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,mBAAT,QAAoC,6CAApC;AACA,OAAO,wBAAP;;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM;EAAA;;EACnC,MAAM;IAAEC;EAAF,IAAiBN,SAAS,EAAhC;EACA,MAAM;IAAEO;EAAF,IAAkBZ,WAAW,CAAEa,KAAD,IAAuBA,KAAxB,CAAnC;EACA,MAAMC,SAAS,GAAGF,WAAW,IAAIA,WAAW,CAACE,SAA7C;EAEA,IAAIC,KAAK,GAAGb,QAAQ,EAApB;EACA,MAAMc,UAAU,GAAGD,KAAK,CAACE,GAAN,CAAU,YAAV,KAA2B,EAA9C;EAEA,MAAM;IAAEC;EAAF,IAAmBZ,cAAc,EAAvC;EAEA,MAAMa,QAAQ,GAAGpB,WAAW,EAA5B;EAEAD,SAAS,CAAC,MAAM;IACd,IAAIsB,YAAwB,GAAG,EAA/B;;IAEA,IAAIF,YAAY,CAACG,MAAjB,EAAyB;MACvB,MAAMC,UAAU,GAAGN,UAAnB;MACAI,YAAY,GAAGF,YAAH,aAAGA,YAAH,uBAAGA,YAAY,CAAEK,MAAd,CAAsBC,OAAD,IAClChB,aAAa,CAACgB,OAAD,EAAU,CAAC,cAAD,EAAiB,aAAjB,CAAV,EAA2CF,UAA3C,CADA,CAAf;MAGAH,QAAQ,CAACZ,aAAa,CAACa,YAAD,CAAd,CAAR;IACD,CAND,MAMO;MACLD,QAAQ,CAACV,mBAAmB,CAACO,UAAD,CAApB,CAAR;IACD,CAXa,CAYd;;EACD,CAbQ,EAaN,CAACA,UAAD,EAAaE,YAAb,CAbM,CAAT;EAeA,oBACE;IAAA,UACGJ,SAAS,gBACR,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QADQ,GAENH,UAAU,CAACU,MAAX,GAAoB,CAApB,gBACF,QAAC,UAAD;MAAA;MAAA;MAAA;IAAA,QADE,gBAGF,QAAC,aAAD;MAAA;MAAA;MAAA;IAAA;EANJ;IAAA;IAAA;IAAA;EAAA,QADF;AAWD,CAtCM;;GAAMX,e;UACYL,S,EACCL,W,EAGZE,Q,EAGaI,c,EAERP,W;;;KAVNW,e;AAwCb,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}